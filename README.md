# S21 Bot - –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è –®–∫–æ–ª—ã 21 YKS

ü§ñ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –®–∫–æ–ª—ã 21 –Ø–∫—É—Ç—Å–∫ —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Google Sheets.

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **/start** - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- **/links** - –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –®–∫–æ–ª—ã 21
- **/search** - –ü–æ–∏—Å–∫ –ø–∏—Ä–∞ –≤ Telegram
- **/ping** - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
- **/campus** - –ö—Ç–æ —Å–µ–π—á–∞—Å –≤ –∫–∞–º–ø—É—Å–µ
- **/ref** - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
- **/wanted** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∏—Ä–æ–≤

### üîπ –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
- **/ban** - –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **/unban** - –†–∞–∑–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **/broadcast** - –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

### üîπ –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- FAQ –®–∫–æ–ª—ã 21
- –ü—Ä–∞–≤–∏–ª–∞ –®–∫–æ–ª—ã 21
- –ü—Ä–∞–≤–∏–ª–∞ –†–æ–∫–µ—Ç—á–∞—Ç–∞
- –ì–∞–π–¥ –ø–æ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–µ
- –°–ø–∏—Å–æ–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π
- GigaCode
- –ü—Ä–∞–≤–∏–ª–∞ –æ–Ω–ª–∞–π–Ω –ø—Ä–æ–≤–µ—Ä–æ–∫
- Code Review
- –í—ã–ø—É—Å–∫ —à–∫–æ–ª—ã
- –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–∏–Ω—ã
- –§–æ—Ä–º–∞ –≥–æ—Å—Ç—è
- –ü–æ—á—Ç–∞ –∫–∞–º–ø—É—Å–∞

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <repository-url>
cd s21-bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```env
TOKEN=your_bot_token_here
MAIN_ADMIN_ID=your_admin_id_here
login_token=your_login_token_here
password_token=your_password_token_here
GOOGLE_SHEETS_CREDS=credentials.json
SPREADSHEET_KEY=your_spreadsheet_key_here
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets API
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ Google Sheets API
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏ —Å–∫–∞—á–∞–π—Ç–µ JSON-credentials
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ `credentials.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google —Ç–∞–±–ª–∏—Ü—ã
–ë–æ—Ç –æ–∂–∏–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- user_id
- login
- name
- telegram_username
- wanted
- notified

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
s21-bot/
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ handlers/               # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ handlers.py        # –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ services/               # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ google_sheets_service.py  # –†–∞–±–æ—Ç–∞ —Å Google Sheets
‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ states.py          # –°–æ—Å—Ç–æ—è–Ω–∏—è FSM
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ banned_users.txt       # –ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îî‚îÄ‚îÄ wanted.txt            # –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø–∏—Ä—ã
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
- `TOKEN` - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –æ—Ç @BotFather
- `MAIN_ADMIN_ID` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `login_token`, `password_token` - –î–∞–Ω–Ω—ã–µ –¥–ª—è API –∫–∞–º–ø—É—Å–∞
- `GOOGLE_SHEETS_CREDS` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É credentials Google
- `SPREADSHEET_KEY` - ID Google —Ç–∞–±–ª–∏—Ü—ã

### –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
- `banned_users.txt` - –°–ø–∏—Å–æ–∫ –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `wanted.txt` - –°–ø–∏—Å–æ–∫ –ø–∏—Ä–æ–≤ –≤ –∫–∞–º–ø—É—Å–µ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Aiogram 3.x** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- **Google Sheets API** - –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **FSM (Finite State Machine)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞
- **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–º–ø—É—Å–∞
- **–°–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤** - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Google Sheets —Å —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

| user_id | login | name | telegram_username | wanted | notified |
|---------|-------|------|------------------|--------|----------|
| 123456  | abcdefgh | –ò–≤–∞–Ω | @username | xyzabcde | FALSE |

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∏—Ä–æ–≤
- –ë–æ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–∏—Ä–æ–≤ –≤ –∫–∞–º–ø—É—Å–µ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–π –ø–∏—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:01

### –°–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –±–∞–Ω–∏—Ç—å/—Ä–∞–∑–±–∞–Ω–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞
- –î–∞–Ω–Ω—ã–µ –æ –±–∞–Ω–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
1. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `handlers/handlers.py`
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `utils/states.py`
3. –û–±–Ω–æ–≤–∏—Ç–µ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –≤ `utils/helpers.py`

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ù–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ –ø–∞–ø–∫—É `services/`
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `utils/helpers.py`
- –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `utils/states.py`

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –®–∫–æ–ª–µ 21 YKS.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±–æ—Ç–∞.

---

**–®–∫–æ–ª–∞ 21 YKS** ü¶£ | *–î–∞–≤–∞–π—Ç–µ –±—ã—Ç—å –Ω–∞ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ!* üåä
